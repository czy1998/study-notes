# 组件案例

## index.wxml

```xml

<view class='default custom-class'>
    {{userRole}}
</view>

```

## index.js

```js
Component({
  externalClasses: ["custom-class"], // 组件接受的外部样式类
  /**
   * 组件的属性列表
   */
  properties: {
    // 属性名
    userRole: {
      type: Number,
      value: 1,
      // 属性值变化时的回调函数
      observer: function () {
        this._onPropsChange();
      },
    },
    name: String, // 简化的定义方式
    feature: {
      type: Number,
      observer: function () {
        this._onPropsChange();
      },
    },
    refresh: {
      type: Boolean,
      observer: function () {
        this._onPropsChange();
      },
    },
  },

  lifetimes: {
    // 组件生命周期函数
    attached: function () {},
    moved: function () {},
    detached: function () {},
  },

  pageLifetimes: {
    // 组件所在页面的生命周期函数
    show: function () {},
    hide: function () {},
    resize: function () {},
  },

  /**
   * 组件的初始数据
   */
  data: {
    config: [],
    isLogin: false,
  },

  /**
   * 组件的方法列表
   */
  methods: {
    _onPropsChange() {
      const { feature, userRole } = this.data;
      console.log(feature, userRole);
    },
  },
  // 组件数据字段监听器，用于监听 properties 和 data 的变化
  observers: {
    "userRole, feature, refresh": async function (userRole, feature, refresh) {
      console.log(userRole, feature, refresh);
    },
    // 还可以监听子数据字段
    // https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html
  },
});
```
