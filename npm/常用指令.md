# å¸¸ç”¨æŒ‡ä»¤

```sh
# 1. æŸ¥çœ‹åŒ…æ–‡æ¡£ï¼Œæµè§ˆå™¨æ‰“å¼€
npm docs <pkg_name>
npm home <pkg_name>

# 2. æŸ¥çœ‹åŒ…æäº¤bugåœ°å€ï¼Œæµè§ˆå™¨æ‰“å¼€
npm issue <pkg_name>
npm bugs <pkg_name>

# 3. æŸ¥çœ‹åŒ…çš„æºç åœ°å€ï¼Œæµè§ˆå™¨æ‰“å¼€
npm repo <pkg_name>

# 4. æŸ¥çœ‹ä¸€ä¸ªåŒ…çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
npm info <pkg_name>
npm view <pkg_name>

# 5. æŸ¥çœ‹åŒ…ç‰ˆæœ¬
npm view <pkg_name> version # æŸ¥çœ‹æœ€æ–°çš„ç‰ˆæœ¬å·ï¼Œä¹Ÿå°±æ˜¯tagä¸ºlatest
npm view <pkg_name> versions # æŸ¥çœ‹æ‰€æœ‰çš„ç‰ˆæœ¬å·

# 6. æŸ¥çœ‹binç›®å½•
npm bin

# 7. æŸ¥çœ‹npmåŒ…
npm ls # å½“å‰ç›®å½•ä¸‹çš„ä¾èµ–
       # -g å…¨å±€å®‰è£…çš„ä¾èµ–
       # --depth=0 æŒ‡å®šäº†è¦å±•ç¤ºçš„ä¾èµ–æ·±åº¦ï¼Œæ­¤å¤„åªå±•ç¤ºé¡¶çº§ä¾èµ–
```

### è°ƒè¯• npm åŒ…

1. æœ¬åœ°å¼€å‘å¥½ npm åŒ…ä¹‹åï¼Œå¯ä»¥åœ¨ç»ˆç«¯(åœ¨è¯¥ npm åŒ…çš„ç›®å½•ä¸‹)æ‰§è¡Œ `npm link`ï¼Œå°†ä¸ºè¯¥ npm åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥è‡³å…¨å±€çš„ npm åŒ…ä¸‹
2. è¿™æ ·å¯ä»¥åœ¨ç»ˆç«¯é‡Œæ‰§è¡Œå‘½ä»¤(å³ä½ åœ¨ `package.json` é‡Œ bin å­—æ®µé‡Œå¡«å†™çš„å†…éƒ¨å‘½ä»¤(`cli_run`)ï¼Œå‘½ä»¤åé¢éƒ¨åˆ†(`./bin/index.js`)å³ä¸ºå¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®)äº†ï¼Œå¦‚ä¸‹æ‰€ç¤º
   ```json
   // package.json
   {
     "bin": {
       "cli_run": "./bin/index.js"
     }
   }
   ```
3. è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶ä¿®æ”¹ npm åŒ…çš„æºç ï¼Œå®æ—¶è¿›è¡Œè°ƒè¯•
4. å¦‚æœä½ æ˜¯è¦åœ¨åˆ«çš„é¡¹ç›®(myProject)é‡Œè¿è¡Œè¯¥ npm åŒ…ï¼Œåˆ™å¯ä»¥è¿›å…¥ myProject æ‰€åœ¨ç›®å½•ï¼Œåœ¨ç»ˆç«¯è¿è¡Œ `npm link cli_run`
5. å½“è°ƒè¯•å®Œæˆï¼Œéœ€è¦åˆ é™¤è¯¥ç¬¦å·é“¾æ¥ï¼Œåªéœ€æ‰§è¡Œ `npm unlink cli_run -g`

### å‘å¸ƒ npm åŒ…æµç¨‹

```bash
1. npm config set registry https://registry.npmjs.org
   # å…ˆåˆ‡æ¢æºï¼Œå†ç™»å½•å‘å¸ƒåŒ…ï¼Œå¿…é¡»ä½¿ç”¨ npm origin ï¼Œä¸èƒ½åˆ‡æ¢æˆåˆ«çš„é•œåƒ

2. npm adduser
   # æŒ‰ç…§æç¤ºè¾“å…¥è´¦æˆ·åã€å¯†ç ã€é‚®ç®±

3. npm whoami
   # éªŒè¯æ˜¯å¦ç™»å½•æˆåŠŸ

4. npm profile get
   # æŸ¥çœ‹è´¦æˆ·ç®€ä»‹

5. npm publish
    # å‘å¸ƒåˆ°å…¬å…±npmä¸Šï¼Œå¦‚æœåœ¨å‘å¸ƒå‰æ”¹å˜äº†æºï¼Œåˆ™ä¼šå‘å¸ƒåˆ°å¯¹åº”çš„æºä¸Š
    - npm publish --tag home
    # ä¸ºå½“å‰å‘å¸ƒåŒ…æ·»åŠ åä¸º home çš„ tagï¼Œå®‰è£…æ—¶å¯ä»¥æ›¿æ¢ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼Œnpm install demo@home

6. npm version [major | minor | patch]
    # æ›´æ”¹å½“å‰åŒ…çš„ç‰ˆæœ¬å·
    - patch: å°å˜åŠ¨ï¼Œæ¯”å¦‚ä¿®å¤bugç­‰ï¼Œç‰ˆæœ¬å·å˜åŠ¨ v1.0.0 -> v1.0.1
    - minor: å¢åŠ æ–°åŠŸèƒ½ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½ï¼Œç‰ˆæœ¬å·å˜åŠ¨ v1.0.0 -> v1.1.0 (ä¼šæŠŠæ¬¡çº§ç‰ˆæœ¬å·å½’0)
    - major: ç ´åæ¨¡å—å¯¹å‘åçš„å…¼å®¹æ€§ï¼Œç‰ˆæœ¬å·å˜åŠ¨ v1.0.0 -> v2.0.0 (ä¼šæŠŠæ‰€æœ‰æ¬¡çº§ç‰ˆæœ¬å·å½’0)
    # åœ¨gitç¯å¢ƒä¸­ï¼Œæ‰§â¾`npm version`ä¿®æ”¹å®Œç‰ˆæœ¬å·ä¹‹åï¼Œè¿˜ä¼šé»˜è®¤æ‰§â¾`git add`->`git commit` -> `git tag`,é»˜è®¤çš„æäº¤ä¿¡æ¯å°±æ˜¯æˆ‘ä»¬çš„ç‰ˆæœ¬å·
    - npm version [major | minor | patch] -m "update %s"
    # æ‰€ä»¥æƒ³è‡ªå®šä¹‰æäº¤ä¿¡æ¯çš„è¯ï¼Œå¯ä»¥åœ¨æŒ‡ä»¤åé¢æ·»åŠ  -m "... %s" æ¥ä½œä¸º commit-msgï¼Œå…¶ä¸­ %s è¡¨ç¤ºç‰ˆæœ¬å·
    # å¦‚æœâ¼¯ä½œåŒºè¿˜æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼Œ`npm version` ä¼šæ‰§è¡Œå¤±è´¥:
    !! npm ERR! Git working directory not clean.


7. npm dist-tag add <package-name>@<version> <tag-name>
    # ä¸ºåˆ¶å®šç‰ˆæœ¬çš„åŒ…æ·»åŠ  tagï¼Œä¾‹å¦‚ï¼Œnpm dist-tag add demo@1.0.1 test
    # ä¸º demo@1.0.1 è¿™ä¸ªç‰ˆæœ¬æ–°å¢ä¸€ä¸ªåä¸º test çš„tagï¼Œå®‰è£…æ—¶å¯ä»¥æ›¿æ¢ç‰ˆæœ¬å·
    - npm dist-tag ls demo
        # æŸ¥çœ‹ demo ä¸Šçš„æ‰€æœ‰tag
    - npm dist-tag rm demo test
        # åˆ é™¤ demo ä¸Šåä¸º test çš„tag

8. npm deprecate <package-name>@<version> "<message>"
    # åºŸå¼ƒæˆ–è€…ä¸æƒ³ç»´æŠ¤ä¸€ä¸ªåŒ…/ä¸€ä¸ªåŒ…çš„æŸä¸ªç‰ˆæœ¬ï¼Œä»–äººåœ¨å®‰è£…æ—¶ä¼šçœ‹åˆ°message
    - npm deprecate <package-name>@<version> ""
        # å°† message ç½®ä¸ºç©ºå³å¯å–æ¶ˆåºŸå¼ƒ

9. npm unpublish <package-name>
    # åœ¨ npm ä¸Šåˆ é™¤å‘å¸ƒçš„åŒ…
    - npm unpublish <package-name> -f
        # å¼ºåˆ¶åˆ é™¤
        # æ‰§è¡Œä¸å¸¦å‚æ•°çš„æŒ‡ä»¤ï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼Œè¿™æ—¶å°±éœ€è¦å¼ºåˆ¶åˆ é™¤äº†
        # åŸå› å¯èƒ½æ˜¯: æ— æƒé™åˆ é™¤çº¿ä¸Šçš„åŒ…ï¼ˆæ’¤åŒ…æœ‰æ—¶é—´é™åˆ¶ï¼Œ24å°æ—¶ï¼‰
```

### å‚è€ƒæ–‡ç« 

[æ¥ï¼Œä½“ä¼šä¸€ä¸‹ npm åŒ…çš„å‘å¸ƒã€æ›´æ–°ç®¡ç†ã€ä½¿ç”¨â€”â€”å®Œæ•´æ•™ç¨‹ ğŸˆ](https://zhuanlan.zhihu.com/p/545161275)
